{"ast":null,"code":"var shorterNames = require('./shorter-css-color-names');\n\nvar REGEX = {\n  whitespace: /\\s+/g,\n  urlHexPairs: /%[\\dA-F]{2}/g,\n  quotes: /\"/g\n};\n\nfunction collapseWhitespace(str) {\n  return str.trim().replace(REGEX.whitespace, ' ');\n}\n\nfunction dataURIPayload(string) {\n  return encodeURIComponent(string).replace(REGEX.urlHexPairs, specialHexEncode);\n} // `#` gets converted to `%23`, so quite a few CSS named colors are shorter than\n// their equivalent URL-encoded hex codes.\n\n\nfunction colorCodeToShorterNames(string) {\n  Object.keys(shorterNames).forEach(function (key) {\n    if (shorterNames[key].test(string)) {\n      string = string.replace(shorterNames[key], key);\n    }\n  });\n  return string;\n}\n\nfunction specialHexEncode(match) {\n  switch (match) {\n    // Browsers tolerate these characters, and they're frequent\n    case '%20':\n      return ' ';\n\n    case '%3D':\n      return '=';\n\n    case '%3A':\n      return ':';\n\n    case '%2F':\n      return '/';\n\n    default:\n      return match.toLowerCase();\n    // compresses better\n  }\n}\n\nfunction svgToTinyDataUri(svgString) {\n  if (typeof svgString !== 'string') {\n    throw new TypeError('Expected a string, but received ' + typeof svgString);\n  } // Strip the Byte-Order Mark if the SVG has one\n\n\n  if (svgString.charCodeAt(0) === 0xfeff) {\n    svgString = svgString.slice(1);\n  }\n\n  var body = colorCodeToShorterNames(collapseWhitespace(svgString)).replace(REGEX.quotes, \"'\");\n  return 'data:image/svg+xml,' + dataURIPayload(body);\n}\n\nsvgToTinyDataUri.toSrcset = function toSrcset(svgString) {\n  return svgToTinyDataUri(svgString).replace(/ /g, '%20');\n};\n\nmodule.exports = svgToTinyDataUri;","map":{"version":3,"sources":["C:/Users/adars/web-tech/node_modules/mini-svg-data-uri/index.js"],"names":["shorterNames","require","REGEX","whitespace","urlHexPairs","quotes","collapseWhitespace","str","trim","replace","dataURIPayload","string","encodeURIComponent","specialHexEncode","colorCodeToShorterNames","Object","keys","forEach","key","test","match","toLowerCase","svgToTinyDataUri","svgString","TypeError","charCodeAt","slice","body","toSrcset","module","exports"],"mappings":"AAAA,IAAIA,YAAY,GAAGC,OAAO,CAAC,2BAAD,CAA1B;;AACA,IAAIC,KAAK,GAAG;AACVC,EAAAA,UAAU,EAAE,MADF;AAEVC,EAAAA,WAAW,EAAE,cAFH;AAGVC,EAAAA,MAAM,EAAE;AAHE,CAAZ;;AAMA,SAASC,kBAAT,CAA4BC,GAA5B,EAAiC;AAC/B,SAAOA,GAAG,CAACC,IAAJ,GAAWC,OAAX,CAAmBP,KAAK,CAACC,UAAzB,EAAqC,GAArC,CAAP;AACD;;AAED,SAASO,cAAT,CAAwBC,MAAxB,EAAgC;AAC9B,SAAOC,kBAAkB,CAACD,MAAD,CAAlB,CACJF,OADI,CACIP,KAAK,CAACE,WADV,EACuBS,gBADvB,CAAP;AAED,C,CAED;AACA;;;AACA,SAASC,uBAAT,CAAiCH,MAAjC,EAAyC;AACvCI,EAAAA,MAAM,CAACC,IAAP,CAAYhB,YAAZ,EAA0BiB,OAA1B,CAAkC,UAASC,GAAT,EAAc;AAC9C,QAAIlB,YAAY,CAACkB,GAAD,CAAZ,CAAkBC,IAAlB,CAAuBR,MAAvB,CAAJ,EAAoC;AAClCA,MAAAA,MAAM,GAAGA,MAAM,CAACF,OAAP,CAAeT,YAAY,CAACkB,GAAD,CAA3B,EAAkCA,GAAlC,CAAT;AACD;AACF,GAJD;AAMA,SAAOP,MAAP;AACD;;AAED,SAASE,gBAAT,CAA0BO,KAA1B,EAAiC;AAC/B,UAAQA,KAAR;AAAiB;AACf,SAAK,KAAL;AAAY,aAAO,GAAP;;AACZ,SAAK,KAAL;AAAY,aAAO,GAAP;;AACZ,SAAK,KAAL;AAAY,aAAO,GAAP;;AACZ,SAAK,KAAL;AAAY,aAAO,GAAP;;AACZ;AAAS,aAAOA,KAAK,CAACC,WAAN,EAAP;AAA4B;AALvC;AAOD;;AAED,SAASC,gBAAT,CAA0BC,SAA1B,EAAqC;AACnC,MAAI,OAAOA,SAAP,KAAqB,QAAzB,EAAmC;AACjC,UAAM,IAAIC,SAAJ,CAAc,qCAAqC,OAAOD,SAA1D,CAAN;AACD,GAHkC,CAInC;;;AACA,MAAIA,SAAS,CAACE,UAAV,CAAqB,CAArB,MAA4B,MAAhC,EAAwC;AAAEF,IAAAA,SAAS,GAAGA,SAAS,CAACG,KAAV,CAAgB,CAAhB,CAAZ;AAAgC;;AAE1E,MAAIC,IAAI,GAAGb,uBAAuB,CAACR,kBAAkB,CAACiB,SAAD,CAAnB,CAAvB,CACRd,OADQ,CACAP,KAAK,CAACG,MADN,EACc,GADd,CAAX;AAEA,SAAO,wBAAwBK,cAAc,CAACiB,IAAD,CAA7C;AACD;;AAEDL,gBAAgB,CAACM,QAAjB,GAA4B,SAASA,QAAT,CAAkBL,SAAlB,EAA6B;AACvD,SAAOD,gBAAgB,CAACC,SAAD,CAAhB,CAA4Bd,OAA5B,CAAoC,IAApC,EAA0C,KAA1C,CAAP;AACD,CAFD;;AAIAoB,MAAM,CAACC,OAAP,GAAiBR,gBAAjB","sourcesContent":["var shorterNames = require('./shorter-css-color-names');\nvar REGEX = {\n  whitespace: /\\s+/g,\n  urlHexPairs: /%[\\dA-F]{2}/g,\n  quotes: /\"/g,\n}\n\nfunction collapseWhitespace(str) {\n  return str.trim().replace(REGEX.whitespace, ' ');\n}\n\nfunction dataURIPayload(string) {\n  return encodeURIComponent(string)\n    .replace(REGEX.urlHexPairs, specialHexEncode);\n}\n\n// `#` gets converted to `%23`, so quite a few CSS named colors are shorter than\n// their equivalent URL-encoded hex codes.\nfunction colorCodeToShorterNames(string) {\n  Object.keys(shorterNames).forEach(function(key) {\n    if (shorterNames[key].test(string)) {\n      string = string.replace(shorterNames[key], key);\n    }\n  });\n\n  return string;\n}\n\nfunction specialHexEncode(match) {\n  switch (match) { // Browsers tolerate these characters, and they're frequent\n    case '%20': return ' ';\n    case '%3D': return '=';\n    case '%3A': return ':';\n    case '%2F': return '/';\n    default: return match.toLowerCase(); // compresses better\n  }\n}\n\nfunction svgToTinyDataUri(svgString) {\n  if (typeof svgString !== 'string') {\n    throw new TypeError('Expected a string, but received ' + typeof svgString);\n  }\n  // Strip the Byte-Order Mark if the SVG has one\n  if (svgString.charCodeAt(0) === 0xfeff) { svgString = svgString.slice(1) }\n\n  var body = colorCodeToShorterNames(collapseWhitespace(svgString))\n    .replace(REGEX.quotes, \"'\");\n  return 'data:image/svg+xml,' + dataURIPayload(body);\n}\n\nsvgToTinyDataUri.toSrcset = function toSrcset(svgString) {\n  return svgToTinyDataUri(svgString).replace(/ /g, '%20');\n}\n\nmodule.exports = svgToTinyDataUri;\n"]},"metadata":{},"sourceType":"script"}